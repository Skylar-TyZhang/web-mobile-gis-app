<DOCTYPE html>

    <head>
        <title>Hello Cesium!</title>
        <script src="Build/Cesium/Cesium.js"></script>
        <style>
            @import url(Build/Cesium/Widgets/widgets.css);

            html,
            body,
            #cesiumContainer {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
                overflow: hidden;
            }

            .toolbar-left {
                display: block;
                position: absolute;
                top: 5px;
                left: 5px;
            }
        </style>
        <!--head part for template-->
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Charts html adapted from Windmill Dashboard</title>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
            rel="stylesheet" />
        <link rel="stylesheet" href="./assets/css/tailwind.output.css" />
        <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
        <script src="./assets/js/init-alpine.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.css" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" defer></script>
        <script src="./assets/js/charts-lines.js" defer></script>
        <script src="./assets/js/charts-pie.js" defer></script>
        <script src="./assets/js/charts-bars.js" defer></script>
    </head>

    <body>
        <!--div id="cesiumContainer"></div>
        <!--dashboard template-->
        <div class="flex h-screen bg-gray-50 dark:bg-gray-900" :class="{ 'overflow-hidden': isSideMenuOpen}">
            <aside class="z-20 hidden w-64 overflow-y-auto bg-white dark:bg-gray-800 md:block flex-shrink-0">
                <div class="py-4 text-gray-500 dark:text-gray-400">
                  <a class="ml-6 text-lg font-bold text-gray-800 dark:text-gray-200" href="#">
                    CEGE0043 Dashboard
                  </a>
                  <ul class="mt-6">
                    <li class="relative px-6 py-3">
                      <a class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                        >
                        <svg class="w-5 h-5" aria-hidden="true" fill="none" stroke-linecap="round" stroke-linejoin="round"
                          stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                          <path
                            d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6">
                          </path>
                        </svg>
                        <span class="ml-4">Dashboard</span>
                      </a>
                    </li>
                  </ul>
                
                  <div class="px-6 my-6">
                    <button
                      class="flex items-center justify-between w-full px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-purple-600 border border-transparent rounded-lg active:bg-purple-600 hover:bg-purple-700 focus:outline-none focus:shadow-outline-purple">
                      Button
                      <span class="ml-2" aria-hidden="true">+</span>
                    </button>
                  </div>
                </div>
              </aside>
        </div>>
    

    </body>

    <script>
        "use strict";
        Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NmQ2NmVmNy0zZGY4LTQ1ZDAtYmUwOC03MjkzM2JjNzQ2OTQiLCJpZCI6MTU2NjMsInNjb3BlcyI6WyJhc3IiLCJnYyJdLCJpYXQiOjE1Njg1MjQwNTl9.siDvMt3fH91XzE39FU_xqVrx-i6M1wWOBl_2vCrY6Xo';

        Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NmQ2NmVmNy0zZGY4LTQ1ZDAtYmUwOC03MjkzM2JjNzQ2OTQiLCJpZCI6MTU2NjMsInNjb3BlcyI6WyJhc3IiLCJnYyJdLCJpYXQiOjE1Njg1MjQwNTl9.siDvMt3fH91XzE39FU_xqVrx-i6M1wWOBl_2vCrY6Xo';

        let imageryProviders = Cesium.createDefaultImageryProviderViewModels();
        let selectedImageryProviderIndex = 7;

        let viewer = new Cesium.Viewer('cesiumContainer', {
            imageryProviderViewModels: imageryProviders,
            selectedImageryProviderViewModel: imageryProviders[selectedImageryProviderIndex]
        });
    </script>

    <script>
        "use strict";

        function loadVectorLayer() {

            // get the data - NB this assumes that the API is running
            let layerURL = document.location.origin + "/api/geojson/ucfscde/buildings/building_id/location";
            console.log(layerURL);

            let geoJSONOptions = {
                stroke: Cesium.Color.RED,
                fill: Cesium.Color.RED,
                strokeWidth: 3,
                markerSymbol: '*',
            }
            let dataSource = new Cesium.GeoJsonDataSource("Buildings");
            dataSource.clampToGround = false;
            dataSource._name = "Buildings";
            viewer.dataSources.add(dataSource);
            dataSource.load(layerURL, geoJSONOptions).then(function (dataSource) {
                viewer.flyTo(dataSource);

            });
        }

    </script>