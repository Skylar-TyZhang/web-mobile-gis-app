<DOCTYPE html>

    <head>
        <title>Hello Cesium!</title>
        <script src="Build/Cesium/Cesium.js"></script>
        <style>
            @import url(Build/Cesium/Widgets/widgets.css);

            html,
            body,
            #cesiumContainer {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
                overflow: hidden;
            }

            .toolbar-left {
                display: block;
                position: absolute;
                top: 5px;
                left: 5px;
            }
        </style>
        <!--head part for template-->
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Charts html adapted from Windmill Dashboard</title>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
            rel="stylesheet" />
        <link rel="stylesheet" href="./assets/css/tailwind.output.css" />
        <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
        <script src="./assets/js/init-alpine.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.css" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" defer></script>
        <script src="./assets/js/charts-lines.js" defer></script>
        <script src="./assets/js/charts-pie.js" defer></script>
        <script src="./assets/js/charts-bars.js" defer></script>
    </head>

    <body>
        <div id="cesiumContainer"></div>

    </body>

    <script>
        "use strict";
        Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NmQ2NmVmNy0zZGY4LTQ1ZDAtYmUwOC03MjkzM2JjNzQ2OTQiLCJpZCI6MTU2NjMsInNjb3BlcyI6WyJhc3IiLCJnYyJdLCJpYXQiOjE1Njg1MjQwNTl9.siDvMt3fH91XzE39FU_xqVrx-i6M1wWOBl_2vCrY6Xo';

        Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NmQ2NmVmNy0zZGY4LTQ1ZDAtYmUwOC03MjkzM2JjNzQ2OTQiLCJpZCI6MTU2NjMsInNjb3BlcyI6WyJhc3IiLCJnYyJdLCJpYXQiOjE1Njg1MjQwNTl9.siDvMt3fH91XzE39FU_xqVrx-i6M1wWOBl_2vCrY6Xo';

        let imageryProviders = Cesium.createDefaultImageryProviderViewModels();
        let selectedImageryProviderIndex = 7;

        let viewer = new Cesium.Viewer('cesiumContainer', {
            imageryProviderViewModels: imageryProviders,
            selectedImageryProviderViewModel: imageryProviders[selectedImageryProviderIndex]
        });
    </script>

    <script>
        "use strict";

        function loadVectorLayer() {

            // get the data - NB this assumes that the API is running
            let layerURL = document.location.origin + "/api/geojson/ucfscde/buildings/building_id/location";
            console.log(layerURL);

            let geoJSONOptions = {
                stroke: Cesium.Color.RED,
                fill: Cesium.Color.RED,
                strokeWidth: 3,
                markerSymbol: '*',
            }
            let dataSource = new Cesium.GeoJsonDataSource("Buildings");
            dataSource.clampToGround = false;
            dataSource._name = "Buildings";
            viewer.dataSources.add(dataSource);
            dataSource.load(layerURL, geoJSONOptions).then(function (dataSource) {
                viewer.flyTo(dataSource);

            });
        }

    </script>